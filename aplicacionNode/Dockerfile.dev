# Imagen de desarrollo con herramientas adicionales
FROM node:18-alpine AS development

# Instalar dependencias del sistema necesarias
RUN apk add --no-cache \
    ca-certificates \
    curl \
    git \
    && rm -rf /var/cache/apk/*

# Crear directorio para la aplicaci贸n
WORKDIR /app

# Copiar archivos de dependencias
COPY package*.json ./

# Instalar todas las dependencias (incluidas las de desarrollo)
RUN npm install && npm cache clean --force

# Instalar herramientas globales de desarrollo
RUN npm install -g nodemon eslint prettier

# Copiar el c贸digo de la aplicaci贸n
COPY app.js .

# Ejecutar la aplicaci贸n en modo desarrollo
CMD ["nodemon", "app.js"]
